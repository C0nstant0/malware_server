#include <WinSock2.h>
#include <iostream>
#pragma comment (lib, "ws2_32.lib")

using namespace std;

int main()
{
	WSDATA data;
	::WSAStartup(MAKEWORD(2, 2), &data);

	SOCKET server = socket(AF_INET, SOCK_STREAM, IPPROTO_TCP);

	sockadd_in addr = { 0 };

	addr.sin_family = AF_INET;
	addr.sin_addr.s_addr = inet_addr("127.0.0.1");
	addr.sin_port = htons(8888);

	if (bind(server, (sockaddr*)&addr, sizeof(addr)) == SOCKET_ERROR)
		cout << "Bind Error" << endl;
	
	if (listen(server, SOMAXCONN) == SOCKET_ERROR)
		cout << "listen Error" << endl;

	SOCKET client = accept(server, NULL, NULL);
	closesocket(client);
	::WSACleanup();

}